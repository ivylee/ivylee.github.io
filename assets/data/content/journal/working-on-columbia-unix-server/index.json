{"hash":"9bfa97e5f71d3e2459f2681c879c3b1778226211","data":{"post":{"title":"Working With SAS on Columbia Unix Server","date":"October 22 2012","content":"<p>I’m taking two courses that use SAS this semester because SAS is rather\nwidely used in industry. But it’s expensive and few students taking the\nsame classes ever talked about buying the licence. So I have to use SAS\non unix server, and this is rather painful experience.</p>\n<ol>\n<li>SSH into unix server is not a problem, but Kerberos authentication\nkeeps asking for password whenever a connection is made, which means\nwhen SSH into the unix server and exchanging files between remote\nand local. having to type password over and over again is nightmare.</li>\n<li>SAS version on unix server is quite old, 9.1.3 compared to 9.2 in\ncomputer labs.</li>\n<li>the GUI of SAS unix can be launched by ssh -X, but it depends on the\nxserver of local, and I don’t like the experience.</li>\n<li>some command line options better be added when running SAS on\nremote, to suppress unnecessary logging.</li>\n<li>the SAS licence own by Columbia is expiring in about a month, SAS\nkeeps popping warning messages in log file and there is no way to\nsuppress them.</li>\n</ol>\n<p>To address problem 1, solution I found so far is to obtain a Kerberos\nticket valid for 10 hours so one does not have to enter password for a\nperiod of time, but it’s not a thorough solution due to the nature of\nKerberos, there’s no way to avoid entering password forever.</p>\n<p>The following is only tested on Mac OS X 10.8.2, solution should be\nsimiliar on Unix/Linux machines.</p>\n<pre class=\"language-text\"><code class=\"language-text\">$ scp [uni]@cunix.cc.columbia.edu:/etc/krb5.conf ~/\n\n$ sudo mv ~/krb5.conf /etc/\n$ sudo vim /etc/krb5.conf\n    # add the following in [libdefaults] section\n    forward = true\n    forwardable = true\n    renewable = true\n  :wq\n\n$ vim ~/.ssh/config\n    # add the following lines\n    GSSAPIAuthentication yes\n    GSSAPIDelegateCredentials yes\n  :wq\n\n$ kinit [uni] # enter password\n$ klist # to check ticket status\n$ ssh [uni]@cunix.cc.columbia.edu # should connect without prompting password</code></pre>\n<p>To make life easier, add some shortcuts</p>\n<pre class=\"language-text\"><code class=\"language-text\">$ vim ~/.bashrc\n    alias cussh=&#39;ssh [uni]@cunix.cc.columbia.edu&#39;\n    export unixhome=[uni]@cunix.cc.columbia.edu:[$home location]\n  :wq\n\n# login to remote server\n$ cussh\n# uploading\n$ scp [local files] $unixhome/[remote location]\n# downloading\n$ scp $unixhome/[remote files] [local]</code></pre>\n<p>Each ticket is only valid for 10 hrs, which is a parameter set on\nKerberos server. Ticket can be renewed before expiration by</p>\n<pre class=\"language-text\"><code class=\"language-text\">$ kinit -R</code></pre>\n<p>Ref &#x26; further info:</p>\n<ul>\n<li><a href=\"http://web.mit.edu/kerberos/krb5-current/doc/krb_users/tkt_mgmt.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kerberos\ndoc</a></li>\n<li><a href=\"https://weblion.psu.edu/trac/weblion/wiki/KerberizeYourSshClient\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kerbenize ssh\nclient</a></li>\n<li><a href=\"http://www.ugcs.caltech.edu/Kerberized_SSH.xhtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">kinit automatically when\nnecessary</a></li>\n<li><a href=\"http://coxmanagement.wordpress.com/2012/05/07/kerberos-authentication-under-lion/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kerberos with PAM under\nLion</a></li>\n</ul>\n<p>For problem 2 and 3, stop by computer labs to use SAS 9.2 on Windows\nmachine with GUI.</p>\n<p>Some options to supply on command line:</p>\n<pre class=\"language-text\"><code class=\"language-text\">sas -nodms -nonews [program.sas]</code></pre>\n<p>Other options to put in *.sas file:</p>\n<pre class=\"language-text\"><code class=\"language-text\">options nodate nonumber nocenter ls=70 ps=80;</code></pre>\n<p>As for problem 5, hopefully Columbia will upgrade SAS to 9.2 or 9.3.\nJust see what happens.</p>\n"}},"context":{}}