{"hash":"6b998a9ef7316aa0a42beb1ba295eb05bd215169","data":{"post":{"title":"Installing Ghost on IPv6-only server","date":"April 17 2024","content":"<p>In general, the <a href=\"https://ghost.org/docs/install/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ghost official installation guides</a> are pretty good. Here are the key changes to make it work on an IPv6-only server:</p>\n<ol>\n<li>Instead of creating an A record pointing your domain to the server‚Äôs IPv4 address, create an AAAA record pointing to your server‚Äôs IPv6 address.</li>\n<li>\n<p><code>ghost install</code> requires accessing several <a href=\"http://github.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">github.com</a> endpoints, which do not support IPv6 yet. GitHub is <a href=\"https://www.githubstatus.com/incidents/5y8b8lsqbbyq\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">working on it</a>. Until GitHub officially supports IPv6, here‚Äôs the workaround: add the following entry to <code>/etc/hosts</code> on the sever before running <code>ghost install</code> :</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">2a01:4f8:c010:d56::2 github.com\n2a01:4f8:c010:d56::3 api.github.com\n2a01:4f8:c010:d56::4 codeload.github.com\n2a01:4f8:c010:d56::5 objects.githubusercontent.com\n2a01:4f8:c010:d56::6 ghcr.io\n2a01:4f8:c010:d56::7 pkg.github.com npm.pkg.github.com maven.pkg.github.com nuget.pkg.github.com rubygems.pkg.github.com</code></pre>\n<p>The IPv6 proxy server is provided by <a href=\"https://danwin1210.de/github-ipv6-proxy.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Daniel Winzen</a> üôè!</p>\n</li>\n<li><code>ghost setup ssl</code> will fail. Instead, follow the <a href=\"https://certbot.eff.org/instructions?ws=nginx&#x26;os=pip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Certbot</a> guide to provision and auto-renew SSL certificate. Note: <code>nginx</code> on <code>Ubuntu 20</code> combo does not work on IPv6 because the <a href=\"https://bugs.launchpad.net/snapstore-server/+bug/1710022\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">snap store APIs do not support IPv6</a>.</li>\n</ol>\n"}},"context":{}}