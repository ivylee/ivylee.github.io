<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-162951235-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-162951235-1");
    </script>

    <title>Installing Ghost on IPv6-only server - Ivy Lee</title><meta name="gridsome:hash" content="7067ab349ce7048f97bec5ef528c51d308769a65"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Writings by Ivy Lee, Creative Technologist experienced in Data Science, Machine Learning, Deep Learning"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.e0811aa2d901a2d517912241f856735c.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.e0811aa2d901a2d517912241f856735c.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.e0811aa2d901a2d517912241f856735c.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/touchicon.f22e9f3.8adfe1442cdabafcdfc4196418110b5a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/touchicon.62d22cb.8adfe1442cdabafcdfc4196418110b5a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/touchicon.1539b60.8adfe1442cdabafcdfc4196418110b5a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/touchicon.dc0cdc5.8adfe1442cdabafcdfc4196418110b5a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/touchicon.7b22250.8adfe1442cdabafcdfc4196418110b5a.png"><link rel="preload" href="/assets/css/0.styles.2c531a1c.css" as="style"><link rel="preload" href="/assets/js/app.f28e5018.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--journal-post-vue.dfe02cf8.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.7af2d8f4.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.a91a3b4d.js"><link rel="prefetch" href="/assets/js/page--src--pages--journal-vue.1f5ef785.js"><link rel="prefetch" href="/assets/js/page--src--templates--project-post-vue.da85350e.js"><link rel="stylesheet" href="/assets/css/0.styles.2c531a1c.css"><script data-vue-tag="ssr" src="https://static.cloudflareinsights.com/beacon.min.js" defer data-cf-beacon="{"token":"b795a838b6b34046b85a949ecb2e3e6a"}"></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-354b4fc1><header class="header" data-v-e5cfe63c><div class="container" data-v-e5cfe63c><div class="left" data-v-e5cfe63c><a href="/" class="home-link active" data-v-e5cfe63c><h1 data-v-e5cfe63c>Ivy Lee</h1></a></div><nav class="nav right" data-v-e5cfe63c><a href="/journal" class="nav__link" data-v-e5cfe63c>Posts</a><a href="/resume.pdf" class="nav__link" data-v-e5cfe63c>Resume</a></nav></div></header><div class="journal" data-v-354b4fc1><div class="container journal-container" data-v-354b4fc1><div class="journal-header" data-v-354b4fc1><h1 class="journal-title" data-v-354b4fc1>Installing Ghost on IPv6-only server</h1><div class="journal-meta" data-v-354b4fc1><div class="journal-date" data-v-354b4fc1><div data-v-354b4fc1>April 17 2024</div></div></div></div><div class="journal-content" data-v-354b4fc1><p>In general, the <a href="https://ghost.org/docs/install/" target="_blank" rel="nofollow noopener noreferrer">Ghost official installation guides</a> are pretty good. Here are the key changes to make it work on an IPv6-only server:</p>
<ol>
<li>Instead of creating an A record pointing your domain to the server‚Äôs IPv4 address, create an AAAA record pointing to your server‚Äôs IPv6 address.</li>
<li>
<p><code>ghost install</code> requires accessing several <a href="http://github.com" target="_blank" rel="nofollow noopener noreferrer">github.com</a> endpoints, which do not support IPv6 yet. GitHub is <a href="https://www.githubstatus.com/incidents/5y8b8lsqbbyq" target="_blank" rel="nofollow noopener noreferrer">working on it</a>. Until GitHub officially supports IPv6, here‚Äôs the workaround: add the following entry to <code>/etc/hosts</code> on the sever before running <code>ghost install</code> :</p>
<pre class="language-bash"><code class="language-bash">2a01:4f8:c010:d56::2 github.com
2a01:4f8:c010:d56::3 api.github.com
2a01:4f8:c010:d56::4 codeload.github.com
2a01:4f8:c010:d56::5 objects.githubusercontent.com
2a01:4f8:c010:d56::6 ghcr.io
2a01:4f8:c010:d56::7 pkg.github.com npm.pkg.github.com maven.pkg.github.com nuget.pkg.github.com rubygems.pkg.github.com</code></pre>
<p>The IPv6 proxy server is provided by <a href="https://danwin1210.de/github-ipv6-proxy.php" target="_blank" rel="nofollow noopener noreferrer">Daniel Winzen</a> üôè!</p>
</li>
<li><code>ghost setup ssl</code> will fail. Instead, follow the <a href="https://certbot.eff.org/instructions?ws=nginx&#x26;os=pip" target="_blank" rel="nofollow noopener noreferrer">Certbot</a> guide to provision and auto-renew SSL certificate. Note: <code>nginx</code> on <code>Ubuntu 20</code> combo does not work on IPv6 because the <a href="https://bugs.launchpad.net/snapstore-server/+bug/1710022" target="_blank" rel="nofollow noopener noreferrer">snap store APIs do not support IPv6</a>.</li>
</ol>
</div></div></div><footer class="footer" data-v-2bd4b4a4><div class="container" data-v-2bd4b4a4><span data-v-2bd4b4a4>Copyright ¬© 2009-2024</span></div></footer></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Installing Ghost on IPv6-only server","date":"April 17 2024","content":"\u003Cp\u003EIn general, the \u003Ca href=\"https:\u002F\u002Fghost.org\u002Fdocs\u002Finstall\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGhost official installation guides\u003C\u002Fa\u003E are pretty good. Here are the key changes to make it work on an IPv6-only server:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EInstead of creating an A record pointing your domain to the server‚Äôs IPv4 address, create an AAAA record pointing to your server‚Äôs IPv6 address.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Eghost install\u003C\u002Fcode\u003E requires accessing several \u003Ca href=\"http:\u002F\u002Fgithub.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Egithub.com\u003C\u002Fa\u003E endpoints, which do not support IPv6 yet. GitHub is \u003Ca href=\"https:\u002F\u002Fwww.githubstatus.com\u002Fincidents\u002F5y8b8lsqbbyq\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eworking on it\u003C\u002Fa\u003E. Until GitHub officially supports IPv6, here‚Äôs the workaround: add the following entry to \u003Ccode\u003E\u002Fetc\u002Fhosts\u003C\u002Fcode\u003E on the sever before running \u003Ccode\u003Eghost install\u003C\u002Fcode\u003E :\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E2a01:4f8:c010:d56::2 github.com\n2a01:4f8:c010:d56::3 api.github.com\n2a01:4f8:c010:d56::4 codeload.github.com\n2a01:4f8:c010:d56::5 objects.githubusercontent.com\n2a01:4f8:c010:d56::6 ghcr.io\n2a01:4f8:c010:d56::7 pkg.github.com npm.pkg.github.com maven.pkg.github.com nuget.pkg.github.com rubygems.pkg.github.com\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe IPv6 proxy server is provided by \u003Ca href=\"https:\u002F\u002Fdanwin1210.de\u002Fgithub-ipv6-proxy.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDaniel Winzen\u003C\u002Fa\u003E üôè!\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eghost setup ssl\u003C\u002Fcode\u003E will fail. Instead, follow the \u003Ca href=\"https:\u002F\u002Fcertbot.eff.org\u002Finstructions?ws=nginx&#x26;os=pip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ECertbot\u003C\u002Fa\u003E guide to provision and auto-renew SSL certificate. Note: \u003Ccode\u003Enginx\u003C\u002Fcode\u003E on \u003Ccode\u003EUbuntu 20\u003C\u002Fcode\u003E combo does not work on IPv6 because the \u003Ca href=\"https:\u002F\u002Fbugs.launchpad.net\u002Fsnapstore-server\u002F+bug\u002F1710022\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Esnap store APIs do not support IPv6\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.f28e5018.js" defer></script><script src="/assets/js/page--src--templates--journal-post-vue.dfe02cf8.js" defer></script>
  </body>
</html>
