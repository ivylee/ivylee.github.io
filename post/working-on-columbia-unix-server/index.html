
<!DOCTYPE html>
<html lang="en-us">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="" name="keywords">
<meta content="Working With SAS on Columbia Unix Server - Bits" property="og:title">
<title>Working With SAS on Columbia Unix Server | Bits</title>
<link rel="stylesheet" href="https://ivylee.github.io/css/style.css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://ivylee.github.io"><h1 class="title is-4">Bits</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/ivylee">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://ivylee.github.io/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">October 22, 2012</h2>
    <h1 class="title">Working With SAS on Columbia Unix Server</h1>
    
    <div class="content">
      <p>I’m taking two courses that use SAS this semester because SAS is rather
widely used in industry. But it’s expensive and few students taking the
same classes ever talked about buying the licence. So I have to use SAS
on unix server, and this is rather painful experience.</p>

<ol>
<li>SSH into unix server is not a problem, but Kerberos authentication
keeps asking for password whenever a connection is made, which means
when SSH into the unix server and exchanging files between remote
and local. having to type password over and over again is nightmare.</li>
<li>SAS version on unix server is quite old, 9.1.3 compared to 9.2 in
computer labs.</li>
<li>the GUI of SAS unix can be launched by ssh -X, but it depends on the
xserver of local, and I don’t like the experience.</li>
<li>some command line options better be added when running SAS on
remote, to suppress unnecessary logging.</li>
<li>the SAS licence own by Columbia is expiring in about a month, SAS
keeps popping warning messages in log file and there is no way to
suppress them.</li>
</ol>

<p>To address problem 1, solution I found so far is to obtain a Kerberos
ticket valid for 10 hours so one does not have to enter password for a
period of time, but it’s not a thorough solution due to the nature of
Kerberos, there’s no way to avoid entering password forever.</p>

<p>The following is only tested on Mac OS X 10.8.2, solution should be
similiar on Unix/Linux machines.</p>

<pre><code>$ scp [uni]@cunix.cc.columbia.edu:/etc/krb5.conf ~/

$ sudo mv ~/krb5.conf /etc/
$ sudo vim /etc/krb5.conf
    # add the following in [libdefaults] section
    forward = true
    forwardable = true
    renewable = true
  :wq

$ vim ~/.ssh/config
    # add the following lines
    GSSAPIAuthentication yes
    GSSAPIDelegateCredentials yes
  :wq

$ kinit [uni] # enter password
$ klist # to check ticket status
$ ssh [uni]@cunix.cc.columbia.edu # should connect without prompting password
</code></pre>

<p>To make life easier, add some shortcuts</p>

<pre><code>$ vim ~/.bashrc
    alias cussh='ssh [uni]@cunix.cc.columbia.edu'
    export unixhome=[uni]@cunix.cc.columbia.edu:[$home location]
  :wq

# login to remote server
$ cussh
# uploading
$ scp [local files] $unixhome/[remote location]
# downloading
$ scp $unixhome/[remote files] [local]
</code></pre>

<p>Each ticket is only valid for 10 hrs, which is a parameter set on
Kerberos server. Ticket can be renewed before expiration by</p>

<pre><code>$ kinit -R
</code></pre>

<p>Ref &amp; further info:</p>

<ul>
<li><a href="http://web.mit.edu/kerberos/krb5-current/doc/krb_users/tkt_mgmt.html">Kerberos
doc</a></li>
<li><a href="https://weblion.psu.edu/trac/weblion/wiki/KerberizeYourSshClient">Kerbenize ssh
client</a></li>
<li><a href="http://www.ugcs.caltech.edu/Kerberized_SSH.xhtml">kinit automatically when
necessary</a></li>
<li><a href="http://coxmanagement.wordpress.com/2012/05/07/kerberos-authentication-under-lion/">Kerberos with PAM under
Lion</a></li>
</ul>

<p>For problem 2 and 3, stop by computer labs to use SAS 9.2 on Windows
machine with GUI.</p>

<p>Some options to supply on command line:</p>

<pre><code>sas -nodms -nonews [program.sas]
</code></pre>

<p>Other options to put in *.sas file:</p>

<pre><code>options nodate nonumber nocenter ls=70 ps=80;
</code></pre>

<p>As for problem 5, hopefully Columbia will upgrade SAS to 9.2 or 9.3.
Just see what happens.</p>

    </div>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/ivylee">Ivy Lee</a> 2017</p>
  </div>
</section>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/python.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/bash.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


